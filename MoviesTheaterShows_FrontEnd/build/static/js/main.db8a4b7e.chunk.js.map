{"version":3,"sources":["shared/HeaderNav.js","shared/header.jpg","shared/Header.js","shared/ErrorAlert.js","utils/api.js","home/MoviesList.js","movie/AverageRating.js","movies/DetailedMovie.js","movies/DetailedMoviesList.js","movie/Details.js","movie/Review.js","movie/ReviewList.js","movie/Theater.js","movie/TheaterList.js","movie/FullMovie.js","theaters/Theater.js","theaters/TheaterList.js","App.js","index.js"],"names":["HeaderNav","className","style","padding","to","fontStyle","Header","background","headerImage","backgroundPosition","backgroundSize","ErrorAlert","error","message","API_BASE_URL","process","REACT_APP_API_BASE_URL","headers","Headers","fetchJson","url","options","onCancel","a","fetch","response","status","json","payload","Promise","reject","data","name","console","stack","resolve","populateReviews","signal","movie","movie_id","reviews","populateTheaters","theaters","listMovies","URL","addReviews","then","movies","all","map","movieId","addTheaters","reviewId","method","body","JSON","stringify","append","MoviesList","useState","setMovies","setError","useEffect","abortController","AbortController","catch","abort","list","alt","title","src","image_url","width","averageReviewRating","length","total","reduce","sum","review","score","Math","round","AverageRating","DetailedMovie","description","runtime","rating","DetailedMoviesList","Details","runtime_in_minutes","scoreButtonStyle","Review","deleteReview","setReviewScore","critic","preferred_name","surname","organization_name","dangerouslySetInnerHTML","__html","markdown","toHTML","content","onClick","handleIncreaseClick","handleDecreaseClick","ReviewList","sort","leftReview","rightReview","localeCompare","review_id","Theater","theater","address_line_1","address_line_2","city","state","zip","TheaterList","theater_id","FullMovie","useParams","setMovie","loadMovie","readMovie","log","updateReview","setTheaters","listTheaters","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.db8a4b7e.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction HeaderNav() {\n  const style = {\n    padding: \"1rem 0 3rem\",\n  };\n\n  const italic = {\n    fontStyle: \"italic\",\n  };\n\n  return (\n    <ul className=\"nav justify-content-start\" style={style}>\n      <li className=\"nav-item d-none d-lg-block d-xl-block\">\n        <Link className=\"font-poppins-heading nav-link mx-2 text-light\" to=\"/\">\n          <h1 className=\"h5\" style={italic}>\n            WeLoveMovies\n          </h1>\n        </Link>\n      </li>\n      <li className=\"nav-item\">\n        <Link\n          className=\"nav-link mx-2 font-weight-light text-light\"\n          to=\"/movies\"\n        >\n          All Movies\n        </Link>\n      </li>\n      <li className=\"nav-item\">\n        <Link\n          className=\"nav-link mx-2 font-weight-light text-light\"\n          to=\"/theaters\"\n        >\n          All Theaters\n        </Link>\n      </li>\n    </ul>\n  );\n}\n\nexport default HeaderNav;\n","export default __webpack_public_path__ + \"static/media/header.c47d8fe5.jpg\";","import React from \"react\";\nimport HeaderNav from \"./HeaderNav\";\nimport headerImage from \"./header.jpg\";\n\nfunction Header() {\n  const style = {\n    background: `linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.7)), url(${headerImage})`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"100% auto\",\n  };\n\n  return (\n    <div\n      className=\"jumbotron jumbotron-fluid text-white border-bottom border-dark pt-0\"\n      style={style}\n    >\n      <HeaderNav />\n      <div className=\"container\">\n        <h1 className=\"display-4\">Find your next favorite movie!</h1>\n        <p className=\"lead\">\n          <em>WeLoveMovies</em> is your source for finding reviews of movies in\n          theatres near you.\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\n/**\n * Displays a bootstrap danger alert if the specified error is truthy.\n * @param error\n *  an instance of an object with `.message` property as a string, typically an Error instance.\n * @returns {JSX.Element}\n *  a bootstrap danger alert that contains the message string.\n */\nfunction ErrorAlert({ error }) {\n  return (\n    error && (\n      <div className=\"alert alert-danger m-2\">Error: {error.message}</div>\n    )\n  );\n}\n\nexport default ErrorAlert;\n","const API_BASE_URL =\n  process.env.REACT_APP_API_BASE_URL || \"https://nir-welovemovies-backend.herokuapp.com\";\n\n/**\n * Defines the default headers for these functions to work with `json-server`\n */\nconst headers = new Headers();\nheaders.append(\"Content-Type\", \"application/json\");\n\n/**\n * Fetch `json` from the specified URL and handle error status codes and ignore `AbortError`s\n *\n * This function is NOT exported because it is not needed outside of this file.\n *\n * @param url\n *  the url for the requst.\n * @param options\n *  any options for fetch\n * @param onCancel\n *  value to return if fetch call is aborted. Default value is undefined.\n * @returns {Promise<Error|any>}\n *  a promise that resolves to the `json` data or an error.\n *  If the response is not in the 200 - 399 range the promise is rejected.\n */\nasync function fetchJson(url, options, onCancel) {\n  try {\n    const response = await fetch(url, options);\n\n    if (response.status === 204) {\n      return null;\n    }\n\n    const payload = await response.json();\n\n    if (payload.error) {\n      return Promise.reject({ message: payload.error });\n    }\n    return payload.data;\n  } catch (error) {\n    if (error.name !== \"AbortError\") {\n      console.error(error.stack);\n      throw error;\n    }\n    return Promise.resolve(onCancel);\n  }\n}\n\nfunction populateReviews(signal) {\n  return async (movie) => {\n    const url = `${API_BASE_URL}/movies/${movie.movie_id}/reviews`;\n    movie.reviews = await fetchJson(url, { headers, signal }, []);\n    return movie;\n  };\n}\n\nfunction populateTheaters(signal) {\n  return async (movie) => {\n    const url = `${API_BASE_URL}/movies/${movie.movie_id}/theaters`;\n    movie.theaters = await fetchJson(url, { headers, signal }, []);\n    return movie;\n  };\n}\n\n/**\n * Retrieves all existing movies and populates the `reviews` property\n * @returns {Promise<[movie]>}\n *  a promise that resolves to a possibly empty array of movies saved in the database.\n */\nexport async function listMovies(signal) {\n  const url = new URL(`${API_BASE_URL}/movies?is_showing=true`);\n  const addReviews = populateReviews(signal);\n  return await fetchJson(url, { headers, signal }, []).then((movies) =>\n    Promise.all(movies.map(addReviews))\n  );\n}\n\n/**\n * Retrieves all existing theaters\n * @returns {Promise<[theater]>}\n *  a promise that resolves to a possibly empty array of theaters saved in the database.\n */\nexport async function listTheaters(signal) {\n  const url = new URL(`${API_BASE_URL}/theaters`);\n  return await fetchJson(url, { headers, signal }, []);\n}\n\n/**\n * Retrieves all existing movies and populates the `reviews` property\n * @returns {Promise<[movie]>}\n *  a promise that resolves to a possibly empty array of movies saved in the database.\n */\nexport async function readMovie(movieId, signal) {\n  const url = new URL(`${API_BASE_URL}/movies/${movieId}`);\n  const addReviews = populateReviews(signal);\n  const addTheaters = populateTheaters(signal);\n  return await fetchJson(url, { headers, signal }, [])\n    .then(addReviews)\n    .then(addTheaters);\n}\n\nexport async function deleteReview(reviewId) {\n  const url = `${API_BASE_URL}/reviews/${reviewId}`;\n  return await fetchJson(url, { method: \"DELETE\", headers }, {});\n}\n\nexport async function updateReview(reviewId, data) {\n  const url = `${API_BASE_URL}/reviews/${reviewId}`;\n  const options = {\n    method: \"PUT\",\n    headers,\n    body: JSON.stringify({ data }),\n  };\n  return await fetchJson(url, options, {});\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ErrorAlert from \"../shared/ErrorAlert\";\nimport { listMovies } from \"../utils/api\";\n\nfunction MoviesList() {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setError(null);\n    const abortController = new AbortController();\n    listMovies(abortController.signal).then(setMovies).catch(setError);\n\n    return () => abortController.abort();\n  }, []);\n\n  const list = movies.map((movie) => (\n    <article key={movie.movie_id} className=\"col-sm-12 col-md-6 col-lg-3 my-2\">\n      <img\n        alt={`${movie.title} Poster`}\n        className=\"rounded\"\n        src={movie.image_url}\n        style={{ width: \"100%\" }}\n      />\n      <Link\n        to={`/movies/${movie.movie_id}`}\n        className=\"stretched-link text-dark\"\n      >\n        <h3 className=\"font-poppins-heading text-center mt-2\">{movie.title}</h3>\n      </Link>\n    </article>\n  ));\n\n  return (\n    <main className=\"container\">\n      <ErrorAlert error={error} />\n      <h2 className=\"font-poppins\">Now Showing</h2>\n      <hr />\n      <section className=\"row\">{list}</section>\n    </main>\n  );\n}\n\nexport default MoviesList;\n","import React from \"react\";\n\nfunction averageReviewRating(reviews = []) {\n  if (reviews.length) {\n    const total = reviews.reduce((sum, review) => sum + review.score, 0);\n    return Math.round(total / reviews.length);\n  }\n  return \"N/A\";\n}\n\nfunction AverageRating({ reviews = [] }) {\n  return (\n    <p>\n      <strong>Average Review Rating:</strong> {averageReviewRating(reviews)}\n    </p>\n  );\n}\n\nexport default AverageRating;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport AverageRating from \"../movie/AverageRating\";\n\nfunction DetailedMovie({ movie }) {\n  return (\n    <section className=\"row mt-4\">\n      <article className=\"col-sm-12 col-md-6 col-lg-3\">\n        <img\n          alt={`${movie.title} Poster`}\n          className=\"rounded\"\n          src={movie.image_url}\n          style={{ width: \"100%\" }}\n        />\n      </article>\n      <aside className=\"col-sm-12 col-md-6 col-lg-9\">\n        <h3 className=\"font-poppins-heading mb-4\">{movie.title}</h3>\n        <p>{movie.description}</p>\n        <p>\n          <strong>Runtime:</strong> {movie.runtime} minutes\n        </p>\n        <p>\n          <strong>Rating:</strong> {movie.rating}\n        </p>\n        <AverageRating reviews={movie.reviews} />\n        <Link to={`/movies/${movie.movie_id}`} className=\"btn btn-primary\">\n          See More\n        </Link>\n      </aside>\n    </section>\n  );\n}\n\nexport default DetailedMovie;\n","import React, { useEffect, useState } from \"react\";\nimport DetailedMovie from \"./DetailedMovie\";\nimport ErrorAlert from \"../shared/ErrorAlert\";\nimport { listMovies } from \"../utils/api\";\n\nfunction DetailedMoviesList() {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setError(null);\n    const abortController = new AbortController();\n    listMovies(abortController.signal).then(setMovies).catch(setError);\n\n    return () => abortController.abort();\n  }, []);\n\n  const list = movies.map((movie) => (\n    <DetailedMovie key={movie.movie_id} movie={movie} />\n  ));\n\n  return (\n    <main className=\"container\">\n      <ErrorAlert error={error} />\n      <h2 className=\"font-poppins\">All Movies</h2>\n      <hr />\n      <section>{list}</section>\n    </main>\n  );\n}\n\nexport default DetailedMoviesList;\n","import React from \"react\";\nimport AverageRating from \"./AverageRating\";\n\nfunction Details({ movie }) {\n  return (\n    <section>\n      <h3 className=\"font-poppins-heading mb-4\">{movie.title}</h3>\n      <p>{movie.description}</p>\n      <p>\n        <strong>Runtime:</strong> {movie.runtime_in_minutes} minutes\n      </p>\n      <p>\n        <strong>Rating:</strong> {movie.rating}\n      </p>\n      <AverageRating reviews={movie.reviews} />\n    </section>\n  );\n}\n\nexport default Details;\n","import React from \"react\";\nimport { markdown } from \"markdown\";\n\nconst scoreButtonStyle = {\n  padding: \"0 0px 5px 5px\",\n};\n\nfunction Review({ review, deleteReview, setReviewScore }) {\n  const handleIncreaseClick = () => {\n    const score = review.score + 1;\n    if (score > 5) return;\n    setReviewScore(review, score);\n  };\n\n  const handleDecreaseClick = () => {\n    const score = review.score - 1;\n    if (score < 1) return;\n    setReviewScore(review, score);\n  };\n\n  const { critic } = review;\n\n  return (\n    <section className=\"border p-4 mb-4\">\n      <h4>\n        {critic.preferred_name} {critic.surname}\n        <small> of {critic.organization_name}</small>\n      </h4>\n      <p\n        dangerouslySetInnerHTML={{ __html: markdown.toHTML(review.content) }}\n      />\n      <p>\n        <strong>Rating:</strong> {review.score}\n        <button\n          className=\"btn btn-link\"\n          style={scoreButtonStyle}\n          onClick={() => handleIncreaseClick()}\n        >\n          ↑\n        </button>\n        <button\n          className=\"btn btn-link\"\n          style={scoreButtonStyle}\n          onClick={() => handleDecreaseClick()}\n        >\n          ↓\n        </button>\n      </p>\n\n      <button className=\"btn btn-danger\" onClick={() => deleteReview(review)}>\n        Destroy Review\n      </button>\n    </section>\n  );\n}\n\nexport default Review;\n","import React from \"react\";\nimport Review from \"./Review\";\n\nfunction ReviewList({ reviews = [], deleteReview, setReviewScore }) {\n  if (reviews.length) {\n    const list = reviews\n      .sort((leftReview, rightReview) => {\n        return leftReview.critic.preferred_name.localeCompare(\n          rightReview.critic.preferred_name\n        );\n      })\n      .map((review) => (\n        <Review\n          key={review.review_id}\n          review={review}\n          deleteReview={deleteReview}\n          setReviewScore={setReviewScore}\n        />\n      ));\n\n    return (\n      <section className=\"mt-4\">\n        <h3>Reviews</h3>\n        {list}\n      </section>\n    );\n  }\n  return null;\n}\n\nexport default ReviewList;\n","import React from \"react\";\n\nfunction Theater({ theater }) {\n  return (\n    <article className=\"col-sm-12 col-md\">\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <h5>{theater.name}</h5>\n          <address>\n            {theater.address_line_1}\n            <br />\n            {theater.address_line_2 ? theater.address_line_2 : null}\n            {theater.city}, {theater.state} {theater.zip}\n          </address>\n        </div>\n      </div>\n    </article>\n  );\n}\n\nexport default Theater;\n","import React from \"react\";\nimport Theater from \"./Theater\";\n\nfunction TheaterList({ theaters = [] }) {\n  if (theaters.length) {\n    return (\n      <section className=\"mt-4\">\n        <h4>Now Showing Here</h4>\n        <div className=\"row\">\n          {theaters.map((theater) => (\n            <Theater key={theater.theater_id} theater={theater} />\n          ))}\n        </div>\n      </section>\n    );\n  }\n  return null;\n}\n\nexport default TheaterList;\n","import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Details from \"./Details\";\nimport ReviewList from \"./ReviewList\";\nimport TheaterList from \"./TheaterList\";\nimport { deleteReview, readMovie, updateReview } from \"../utils/api\";\nimport ErrorAlert from \"../shared/ErrorAlert\";\n\nfunction FullMovie() {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState({});\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    loadMovie(movieId);\n  }, [movieId]);\n\n  function loadMovie(movieId) {\n    setError(null);\n    const abortController = new AbortController();\n    readMovie(movieId, abortController.signal).then(setMovie).catch(setError);\n    return () => abortController.abort();\n  }\n\n  function deleteReviewHandler({ movie_id: movieId, review_id: reviewId }) {\n    deleteReview(reviewId).then(() => loadMovie(movieId));\n  }\n\n  function updateScoreHandler(\n    { movie_id: movieId, review_id: reviewId },\n    score\n  ) {\n    console.log(\"score\", reviewId, score);\n    updateReview(reviewId, { score }).then(() => loadMovie(movieId));\n  }\n\n  return (\n    <div className=\"container\">\n      <ErrorAlert error={error} />\n      <section className=\"row mt-4\">\n        <article className=\"col-sm-12 col-md-6 col-lg-3\">\n          <img\n            alt={`${movie.title} Poster`}\n            className=\"rounded\"\n            src={movie.image_url}\n            style={{ width: \"100%\" }}\n          />\n        </article>\n        <aside className=\"col-sm-12 col-md-6 col-lg-9\">\n          <Details movie={movie} />\n          <TheaterList theaters={movie.theaters} />\n          <ReviewList\n            reviews={movie.reviews}\n            deleteReview={deleteReviewHandler}\n            setReviewScore={updateScoreHandler}\n          />\n        </aside>\n      </section>\n    </div>\n  );\n}\n\nexport default FullMovie;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Theater({ theater }) {\n  return (\n    <article className=\"col-12 mb-4\">\n      <div className=\"row\">\n        <aside className=\"col\">\n          <h2>{theater.name}</h2>\n          <address>\n            {theater.address_line_1}\n            <br />\n            {theater.address_line_2 ? theater.address_line_2 : null}\n            {theater.city}, {theater.state} {theater.zip}\n          </address>\n        </aside>\n        <section className=\"col\">\n          <div className=\"row\">\n            {theater.movies.map((movie) => (\n              <div key={movie.movie_id} className=\"col-2\">\n                <Link to={`/movies/${movie.movie_id}`}>\n                  <img\n                    alt={`${movie.title} Poster`}\n                    src={movie.image_url}\n                    className=\"w-100\"\n                  />\n                </Link>\n              </div>\n            ))}\n          </div>\n        </section>\n      </div>\n    </article>\n  );\n}\n\nexport default Theater;\n","import React, { useEffect, useState } from \"react\";\nimport Theater from \"./Theater\";\nimport ErrorAlert from \"../shared/ErrorAlert\";\nimport { listTheaters } from \"../utils/api\";\n\nfunction TheaterList() {\n  const [theaters, setTheaters] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setError(null);\n    const abortController = new AbortController();\n    listTheaters(abortController.signal).then(setTheaters).catch(setError);\n    return () => abortController.abort();\n  }, []);\n\n  const list = theaters.map((theater) => (\n    <Theater key={theater.theater_id} theater={theater} />\n  ));\n\n  return (\n    <main className=\"container\">\n      <ErrorAlert error={error} />\n      <h2 className=\"font-poppins\">All Theaters</h2>\n      <hr />\n      <section className=\"row\">{list}</section>\n    </main>\n  );\n}\n\nexport default TheaterList;\n","import Header from \"./shared/Header\";\nimport MoviesList from \"./home/MoviesList\";\nimport DetailedMoviesList from \"./movies/DetailedMoviesList\";\nimport FullMovie from \"./movie/FullMovie\";\nimport TheaterList from \"./theaters/TheaterList\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <Router>\n      <Header />\n      <Switch>\n        <Route exact path=\"/\">\n          <MoviesList />\n        </Route>\n        <Route exact path=\"/movies\">\n          <DetailedMoviesList />\n        </Route>\n        <Route exact path=\"/movies/:movieId\">\n          <FullMovie />\n        </Route>\n        <Route exact path=\"/theaters\">\n          <TheaterList />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}